{% load static %}
{% load crispy_forms_tags %}
<div class="modal fade" id="myModelFieldofStudy" role="dialog">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
			<button type="button" class="close" data-dismiss="modal">&times;</button>
			</div>
			<div class="modal-body">
                <input type="text" class="textinput textInput form-control" required id="HRDOSName"/>
             
                <input type="button" class="btn btn-success" id="SaveFieldofStudy" value="ثبت"/>
			</div>
			<div class="modal-footer">
			<button type="button" class="btn btn-danger" data-dismiss="modal">بستن</button>
			</div>
		</div>
	</div>
</div>
<label style="opacity:0;" id="LBlFieldofStudy">{{object.IdFieldofStudy.Id}}</label>
<script>
    var LOC = location.href.toString().search("update")
    $('#SaveFieldofStudy').click(function(){
		var Name = $('#HRDOSName').val()
		$.ajax({
			url: '{% url 'HR:APIFieldofStudy' %}',
			type: 'POST',
			dataType:"json",
			contentType:"application/json;charset=utf-8",
			beforeSend: function (xhr, settings) {
				xhr.setRequestHeader("X-CSRFToken", '{{ csrf_token }}');
			},
			data:JSON.stringify({'Title':Name}),
			success: function (arg) {
				FieldofStudy()
				$('#myModelFieldofStudy').modal('hide')
				$(".modal-backdrop").remove();
			},
			error:function(error){
				alert("79-خطایی رخ داده است!")
			}
		});
	});
</script>